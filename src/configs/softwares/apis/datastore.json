{
    "name": "apis-datastore",
    "parents": [
        "http://code.irestful.com/configs/parent/main.json"
    ],
    "environment_variables": {
        "username": "DB_USERNAME",
        "password": "DB_PASSWORD",
        "server": "DB_SERVER",
        "driver": "DB_DRIVER"
    },
    "functions": {
        "database_connect": {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/logics/pdo/pdo_connect.hh",
            "name": "PDOConnect",
            "language": "hack"
        },
        "database_retrieve": {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/logics/pdo/pdo_retrieve.hh",
            "name": "PDORetrieve",
            "language": "hack"
        },
        "database_retrieve_one": {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/logics/pdo/pdo_retrieve_one.hh",
            "name": "PDORetrieveOne",
            "language": "hack"
        },
        "database_execute": {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/logics/pdo/pdo_execute.hh",
            "name": "PDOExecute",
            "language": "hack"
        },
        "curl_execute": {
            "url": "http://code.irestful.com/shared/logics/curl/execute.hh",
            "name": "execute",
            "language": "hack"
        },
        "curl_execute_multiple": {
            "url": "http://code.irestful.com/shared/logics/curl/execute_multiple.hh",
            "name": "execute",
            "language": "hack"
        },
        "validator": {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/logics/validator.hh",
            "name": "validator",
            "language": "hack"
        },
        "view_json": {
            "url": "http://code.irestful.com/shared/views/json.hh",
            "name": "render",
            "language": "hack"
        },
        "view_single_element": {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/views/single_element.hh",
            "name": "singleElement",
            "language": "hack"
        },
        "view_elements_with_pagination": {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/views/elements_with_pagination.hh",
            "name": "elementsWithPagination",
            "language": "hack"
        },
        "rendered_parser_json": {
            "url": "http://code.irestful.com/shared/rendered_parsers/json.hh",
            "name": "parse",
            "language": "hack"
        },
        "validator_regex_match": {
            "url": "http://code.irestful.com/shared/validators/regex_match.hh",
            "name": "match",
            "language": "hack"
        },
        "validator_software_name": {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/validators/software_name.hh",
            "name": "softwareName",
            "language": "hack"
        },
        "validator_container_name": {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/validators/container_name.hh",
            "name": "containerName",
            "language": "hack"
        },
        "validator_uuid": {
            "url": "http://code.irestful.com/shared/validators/uuid.hh",
            "name": "uuid",
            "language": "hack"
        },
        "validator_field_name": {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/validators/field_name.hh",
            "name": "fieldName",
            "language": "hack"
        },
        "validator_field_value": {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/validators/field_value.hh",
            "name": "fieldValue",
            "language": "hack"
        },
        "validator_integer": {
            "url": "http://code.irestful.com/shared/validators/integer.hh",
            "name": "integer",
            "language": "hack"
        },
        "validator_non_zero_integer": {
            "url": "http://code.irestful.com/shared/validators/non_zero_integer.hh",
            "name": "nonZeroInteger",
            "language": "hack"
        },
        "retrieve_software" : {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/rest_apis/softwares/retrieve_software.hh",
            "name": "retrieveSoftware",
            "language": "hack"
        },
        "insert_software" : {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/rest_apis/softwares/create_software.hh",
            "name": "createSoftware",
            "language": "hack"
        },
        "delete_software" : {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/rest_apis/softwares/delete_software.hh",
            "name": "deleteSoftware",
            "language": "hack"
        },
        "retrieve_container" : {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/rest_apis/containers/retrieve_container.hh",
            "name": "retrieveContainer",
            "language": "hack"
        },
        "delete_container" : {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/rest_apis/containers/delete_container.hh",
            "name": "deleteContainer",
            "language": "hack"
        },
        "insert_container" : {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/rest_apis/containers/create_container.hh",
            "name": "createContainer",
            "language": "hack"
        },
        "insert_element" : {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/rest_apis/elements/create_element.hh",
            "name": "createElement",
            "language": "hack"
        },
        "retrieve_element" : {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/rest_apis/elements/retrieve_single_element.hh",
            "name": "retrieveSingleElement",
            "language": "hack"
        },
        "retrieve_element_by_unique_identifier" : {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/rest_apis/elements/retrieve_single_element_by_unique_identifier.hh",
            "name": "retrieveSingleElement",
            "language": "hack"
        },
        "retrieve_elements_with_pagination" : {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/rest_apis/elements/retrieve_elements_with_pagination.hh",
            "name": "retrieveElementsWithPagination",
            "language": "hack"
        },
        "retrieve_total_amount_of_elements" : {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/rest_apis/elements/retrieve_total_amount_of_elements.hh",
            "name": "retrieveTotalAmountOfElements",
            "language": "hack"
        },
        "delete_element" : {
            "url": "http://code.irestful.com/softwares/apis/irestful/datastore/rest_apis/elements/delete_element.hh",
            "name": "deleteElement",
            "language": "hack"
        }
    },
    "logic": {
        "connector_without_database": {
            "function": "database_connect",
            "params": {
                "username": "*environment_variables->username*",
                "password": "*environment_variables->password*",
                "server": "*environment_variables->server*",
                "driver": "*environment_variables->driver*"
            }
        },
        "connector": {
            "function": "database_connect",
            "params": {
                "username": "*environment_variables->username*",
                "password": "*environment_variables->password*",
                "server": "*environment_variables->server*",
                "driver": "*environment_variables->driver*",
                "database": {
                    "input": "*request->query->software_name*",
                    "validator": "software_name"
                }
            }
        },
        "retrieve_without_database": {
            "function": "database_retrieve",
            "sub_logics": {
                "connector": "connector_without_database"
            }
        },
        "retrieve": {
            "function": "database_retrieve",
            "sub_logics": {
                "connector": "connector"
            }
        },
        "retrieve_total_amount_of_elements": {
            "function": "retrieve_total_amount_of_elements",
            "params": {
                "container_name": {
                    "input": "*request->query->container_name*",
                    "validator": "container_name"
                }
            },
            "sub_logics": {
                "retrieve_one": "retrieve_one"
            }
        },
        "retrieve_one_without_database": {
            "function": "database_retrieve_one",
            "sub_logics": {
                "retrieve": "retrieve_without_database"
            }
        },
        "retrieve_one": {
            "function": "database_retrieve_one",
            "sub_logics": {
                "retrieve": "retrieve"
            }
        },
        "execute_without_database": {
            "function": "database_execute",
            "sub_logics": {
                "connector": "connector_without_database"
            }
        },
        "execute": {
            "function": "database_execute",
            "sub_logics": {
                "connector": "connector"
            }
        },
        "curl_execute": {
            "function": "curl_execute"
        },
        "curl_execute_multiple": {
            "function": "curl_execute_multiple"
        },
        "validator": {
            "function": "validator",
            "sub_logics": {
                "curl_execute": "curl_execute_multiple"
            }
        }
    },
    "views": {
        "json": {
            "function": "view_json"
        },
        "single_element_json": {
            "function": "view_single_element",
            "view": "json"
        },
        "single_element": {
            "function": "view_single_element"
        },
        "multi_elements_with_pagination": {
            "function": "view_elements_with_pagination",
            "sub_views": {
                "single_element": "single_element"
            },
            "view": "json"
        }
    },
    "validators": {
        "regex_match": {
            "function": "validator_regex_match"
        },
        "software_name": {
            "function": "validator_software_name"
        },
        "container_name": {
            "function": "validator_container_name"
        },
        "uuid": {
            "function": "validator_uuid",
            "sub_validators": {
                "regex_match": "regex_match"
            }
        },
        "field_name": {
            "function": "validator_field_name"
        },
        "field_value": {
            "function": "validator_field_value"
        },
        "integer": {
            "function": "validator_integer"
        },
        "non_zero_integer": {
            "function": "validator_non_zero_integer"
        }
    },
    "rest_apis": {
        "retrieve_software": {
            "function": "retrieve_software",
            "params": {
                "software_name": {
                    "input": "*request->query->software_name*",
                    "validator": "software_name"
                }
            },
            "sub_logics": {
                "connector": "connector"
            },
            "view": "json",
            "rendered_parser": "json"
        },
        "insert_software": {
            "function": "insert_software",
            "params": {
                "software_name": {
                    "input": "*request->request->software_name*",
                    "validator": "software_name"
                }
            },
            "sub_logics": {
                "retrieve": "retrieve_one_without_database",
                "execute": "execute_without_database"
            }
        },
        "delete_software": {
            "function": "delete_software",
            "params": {
                "software_name": {
                    "input": "*request->query->software_name*",
                    "validator": "software_name"
                }
            },
            "sub_logics": {
                "execute": "execute"
            },
            "sub_rest_apis": {
                "retrieve_software": "retrieve_software"
            }
        },
        "retrieve_container": {
            "function": "retrieve_container",
            "params": {
                "container_name": {
                    "input": "*request->query->container_name*",
                    "validator": "container_name"
                }
            },
            "sub_logics": {
                "retrieve": "retrieve"
            },
            "view": "json",
            "rendered_parser": "json"
        },
        "delete_container": {
            "function": "delete_container",
            "params": {
                "container_name": {
                    "input": "*request->query->container_name*",
                    "validator": "container_name"
                }
            },
            "sub_logics": {
                "execute": "execute"
            }
        },
        "insert_container": {
            "function": "insert_container",
            "params": {
                "container_name": {
                    "input": "*request->request->name*",
                    "validator": "container_name"
                },
                "fields": "*request->request->fields*"
            },
            "sub_logics": {
                "execute": "execute"
            }
        },
        "insert_element": {
            "function": "insert_element",
            "params": {
                "container_name": {
                    "input": "*request->query->container_name*",
                    "validator": "container_name"
                },
                "data": "*request->request*"
            },
            "sub_rest_apis": {
                "retrieve_container": "retrieve_container"
            },
            "sub_logics": {
                "validator": "validator",
                "execute": "execute"
            }
        },
        "retrieve_element": {
            "function": "retrieve_element",
            "params": {
                "container_name": {
                    "input": "*request->query->container_name*",
                    "validator": "container_name"
                },
                "uuid": {
                    "input": "*request->query->uuid*",
                    "validator": "uuid"
                }
            },
            "sub_logics": {
                "retrieve_one": "retrieve_one"
            },
            "view": "single_element_json"
        },
        "retrieve_element_by_unique_identifier": {
            "function": "retrieve_element_by_unique_identifier",
            "params": {
                "field_name": {
                    "input": "*request->query->field_name*",
                    "validator": "field_name"
                },
                "field_value": {
                    "input": "*request->query->field_value*",
                    "validator": "field_value"
                },
                "container_name": {
                    "input": "*request->query->container_name*",
                    "validator": "container_name"
                }
            },
            "sub_logics": {
                "retrieve_one": "retrieve_one"
            },
            "view": "single_element_json"
        },
        "retrieve_elements_with_pagination": {
            "function": "retrieve_elements_with_pagination",
            "params": {
                "container_name": {
                    "input": "*request->query->container_name*",
                    "validator": "container_name"
                },
                "index": {
                    "input": "*request->query->index*",
                    "validator": "integer"
                },
                "amount": {
                    "input": "*request->query->amount*",
                    "validator": "non_zero_integer"
                },
                "order_by": {
                    "input": "*request->query->order_by*",
                    "validator": "field_name"
                }
            },
            "sub_logics": {
                "retrieve": "retrieve",
                "retrieve_total_amount_of_elements": "retrieve_total_amount_of_elements"
            },
            "view": "multi_elements_with_pagination"
        },
        "delete_element": {
            "function": "delete_element",
            "params": {
                "uuid": {
                    "input": "*request->query->uuid*",
                    "validator": "uuid"
                },
                "container_name": {
                    "input": "*request->query->container_name*",
                    "validator": "container_name"
                }
            },
            "sub_logics": {
                "execute": "execute"
            }
        }
    },
    "rendered_parsers": {
        "json": {
            "function": "rendered_parser_json"
        }
    },
    "routes": {
        "http": [
            {
                "pattern": "/",
                "method": "post",
                "rest_api": "insert_software"
            },
            {
                "pattern": "/*software_name*",
                "method": "get",
                "rest_api": "retrieve_software"
            },
            {
                "pattern": "/*software_name*",
                "method": "delete",
                "rest_api": "delete_software"
            },
            {
                "pattern": "/*software_name*",
                "method": "post",
                "rest_api": "insert_container"
            },
            {
                "pattern": "/*software_name*/*container_name*",
                "method": "get",
                "rest_api": "retrieve_container"
            },
            {
                "pattern": "/*software_name*/*container_name*",
                "method": "delete",
                "rest_api": "delete_container"
            },
            {
                "pattern": "/*software_name*/*container_name*",
                "method": "post",
                "rest_api": "insert_element"
            },
            {
                "pattern": "/*software_name*/*container_name*/*uuid*",
                "method": "get",
                "rest_api": "retrieve_element"
            },
            {
                "pattern": "/*software_name*/*container_name*/*uuid*",
                "method": "delete",
                "rest_api": "delete_element"
            },
            {
                "pattern": "/*software_name*/*container_name*/*field_name*/*field_value*",
                "method": "get",
                "rest_api": "retrieve_element_by_unique_identifier"
            },
            {
                "pattern": "/*software_name*/*container_name*/elements/*index*/*amount*",
                "method": "get",
                "rest_api": "retrieve_elements_with_pagination"
            }
        ]
    }
}
